<!DOCTYPE html> <html prefix="og: http://ogp.me/ns#" lang="ru"> <head> <meta charset="utf-8" /> <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> <title>Шаг за шагом добавляем Lottie анимации в Xamarin Forms приложение - YP Tech Notes</title> <meta name="description" content="Еще один техноблог, пишу о том что интересно." /> <meta name="keywords" content="xamarin forms, ios, android, перевод" /> <meta name="author" content="Yauheni Pakala"> <meta property="og:title" content="Шаг за шагом добавляем Lottie анимации в Xamarin Forms приложение - YP Tech Notes" /> <meta property="og:description" content="Еще один техноблог, пишу о том что интересно." /> <meta property="og:url" content="https://wcoder.github.io/notes/lottie-animations-step-by-step-in-xamarin-forms" /> <meta property="og:site_name" content="YP Tech Notes" /> <meta property="og:locale" content="ru_RU" /> <meta property="og:type" content="article" /> <meta property="article:author" content="Yauheni Pakala" /> <meta property="article:published_time" content="2017-07-24T15:56:00+03:00" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:creator" content="@yauhenipakala" /> <meta name='yandex-verification' content='7cd440e16ce6e1c3' /> <link rel="icon" type="image/x-icon" href="/images/favicon.ico" /> <link rel="stylesheet" href="/css/main.css" /> <link rel="stylesheet" href="/css/github.min.css" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="YP Tech Notes" /> <meta name="apple-mobile-web-app-title" content="YP Tech Notes" /> <meta name="theme-color" content="#333" /> <meta name="msapplication-navbutton-color" content="#333" /> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> <meta name="msapplication-starturl" content="/" /> <link rel="manifest" href="/api/manifest.json" /> <link rel="canonical" href="https://wcoder.github.io/notes/lottie-animations-step-by-step-in-xamarin-forms" /> <link rel="alternate" type="application/atom+xml" title="YP Tech Notes" href="https://wcoder.github.io/atom.xml" /> </head> <body> <header class="site-header"><div class="wrapper"> <a class="site-title" href="/" title="Перейти на главную">Tech Notes</a> <nav class="site-nav"> <a href="#" class="menu-icon" title="Развернуть меню"> <svg xmlns="http://www.w3.org/2000/svg" height="29" viewBox="0 0 48 48" width="48"><path d="M0 0h48v48h-48z" fill="none"></path><path d="M6 36h36v-4h-36v4zm0-10h36v-4h-36v4zm0-14v4h36v-4h-36z"></path> </svg> </a><div class="trigger"> <a class="page-link" href="https://ypakala.com/">Об авторе</a> <a class="page-link" href="/archive/">Архив</a> <a class="page-link" href="/search/">Поиск</a> <a class="page-link" href="/atom.xml"><i class="fa fa-rss"></i> RSS</a></div></nav></div></header><div class="page-content"><div class="wrapper"> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"><h1 class="post-title" itemprop="name headline">Шаг за шагом добавляем Lottie анимации в Xamarin Forms приложение</h1><p class="post-meta"> <time datetime="2017-07-24T15:56:00+03:00" itemprop="datePublished">24.07.2017 в 15:56</time></p></header><div class="post-content" itemprop="articleBody"><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/edd7cb_2dec6254a38c41d189698c1dd6ef12c2-mv2-665x435.png" alt="Шаг за шагом добавляем Lottie анимации в Xamarin Forms приложение" /></p><p>Lottie это библиотека, созданная Airbnb и позволяет вам запускать анимации. Она работает с помощью json-файла, который предоставляет контент для отображения анимации. Спасибо <a href="https://github.com/martijn00">Martijn van Dijk</a> что теперь эта библиотека доступна для Xamarin Forms. Для подробного ознакомления, посмотрите его репозиторий: <a href="https://github.com/martijn00/LottieXamarin">https://github.com/martijn00/LottieXamarin</a>. Конечно, я бы еще рекомендовал ознакомиться с его статьей: <a href="https://blog.xamarin.com/bring-stunning-animations-to-your-apps-with-lottie/">Bring Stunning Animations to Your Apps with Lottie</a></p><p>На некоторых форумах, я видел как люди были разочарованы тем, что у них Lottie не работает, поэтому в этой посте я постараюсь показать как заставить Lottie работать, шаг за шагом.</p><h2 id="шаг-1-установка">Шаг 1. Установка</h2><p>Установите <a href="https://www.nuget.org/packages/Com.Airbnb.Xamarin.Forms.Lottie/2.0.0.1-alpha1">Lottie for Xamarin.Forms</a>, во все ваши проекты.</p><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/Screen-Shot-2017-06-22-at-12.08.49-AM-768x515.png" alt="Установка пакета Lottie" /></p><h2 id="шаг-2-инициализация">Шаг 2. Инициализация</h2><p>Инициализируйте Lottie в обоих проектах iOS и Android с помощью вызова <code>AnimationViewRenderer.Init()</code></p><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/Screen-Shot-2017-06-22-at-12.18.33-AM-768x459.png" alt="Инициализация в Android проекте" /></p><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/Screen-Shot-2017-06-22-at-12.22.07-AM-768x401.png" alt="Инициализация в iOS проекте" /></p><h2 id="шаг-3-применение">Шаг 3. Применение</h2><p>Вы можете добавить <strong>AnimationView</strong> из кода, или если это XAML страница:</p><pre><code class="language-xml">xmlns:forms="clr-namespace:Lottie.Forms;assembly=Lottie.Forms"
</code></pre><pre><code class="language-xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:LottieSample"
             x:Class="LottieSample.LottieSamplePage"
             xmlns:forms="clr-namespace:Lottie.Forms;assembly=Lottie.Forms"&gt;
    &lt;ContentPage.Content&gt;
         &lt;StackLayout VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand"&gt;
              &lt;forms:AnimationView
                x:Name="AnimationView"
                Animation="video_cam.json"
                AutoPlay="True" Loop="true"
                VerticalOptions="FillAndExpand"
                HorizontalOptions="FillAndExpand" /&gt;
      &lt;/StackLayout&gt;
    &lt;/ContentPage.Content&gt;
&lt;/ContentPage&gt;
</code></pre><h2 id="шаг-4-выбор-анимации">Шаг 4. Выбор анимации</h2><p>Выберите анимацию, созданную в <a href="https://www.adobe.com/products/aftereffects.html">Adobe After Effects</a> и экспортируйте ее в json-файл, используя расширение <a href="https://github.com/bodymovin/bodymovin">Bodymovin</a>.</p><h2 id="шаг-5-добавление-json-файла-в-проект">Шаг 5. Добавление Json-файла в проект</h2><p>В iOS добавьте его в свой проект и убедитесь, что в <strong>Build Action</strong> указан <strong>BundleResource</strong></p><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/Screen-Shot-2017-06-22-at-12.25.13-AM-768x434.png" alt="" /></p><p>В Android поместите его в папку <strong>Assets</strong> и убедитесь, что в <strong>Build Action</strong> указан <strong>AndroidAsset</strong></p><p><img src="https://xamgirl.com/wp-content/uploads/2017/06/Screen-Shot-2017-06-22-at-12.26.52-AM-768x662.png" alt="" /></p><p>И это все, что вам нужно, чтобы ваша анимация работала!</p><p><img src="https://i.imgflip.com/1razf6.gif" alt="Результат" /></p><p><a href="https://github.com/CrossGeeks/Xamarin.Samples/tree/master/Xamarin%20Forms/LottieSample">Исходный код</a></p><p><a href="https://xamgirl.com/lottie-animations-step-by-step-in-xamarin-forms/" name="original">Оригинал</a></p><p>Теги: <a href="/tags/#xamarin+forms">xamarin forms</a>, <a href="/tags/#ios">ios</a>, <a href="/tags/#android">android</a>, <a href="/tags/#%D0%BF%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4">перевод</a></p><p class="edit-post-btn"> <!--noindex--><a href="https://github.com/wcoder/wcoder.github.io/edit/master/_posts/2017-07-24-lottie-animations-step-by-step-in-xamarin-forms.md" rel="nofollow" title="Редактировать страницу на GitHub">Редактировать</a><!--/noindex--></p><div class="share-btn"> <a class="btn-vk" data-id="vk" title="VK"><img alt="VK" width="16" src="/images/vk.svg" /></a> <a class="btn-facebook" data-id="fb" title="Facebook"><img alt="Facebook" width="16" src="/images/facebook.svg" /></a> <a class="btn-twitter" data-id="tw" title="Twitter"><img alt="Twitter" width="16" src="/images/twitter.svg" /></a> <a class="btn-telegram" data-id="tg" title="Telegram"><img alt="Telegram" width="16" src="/images/telegram.svg" /></a> <a class="btn-mail" data-id="mail" title="Email"><img alt="Email" width="16" src="/images/mail.svg" /></a></div></div></article></div></div><hr /><div class="wrapper"> <footer class="footer"><p class="copyrights"> &copy; 2014&ndash;<span itemprop="copyrightYear">2025</span></p><p xmlns:cc="http://creativecommons.org/ns#" class="license"> <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" title="This work is licensed under CC BY-SA 4.0"> <img style="height:20px!important;" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png" alt="CC BY-SA 4.0"> </a></p></footer></div><script src="/js/highlight.pack.js"></script> <script src="/js/highlightjs-line-numbers.min.js"></script> <script> hljs.initHighlightingOnLoad(); hljs.initLineNumbersOnLoad(); </script> <script src="/js/share-buttons.js"></script> <!--Generated with Jekyll at Nov. 11, 2025 11:59:43 AM (+03)--> </body> </html>
