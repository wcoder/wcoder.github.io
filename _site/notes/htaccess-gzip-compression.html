<!DOCTYPE html> <html prefix="og: http://ogp.me/ns#" lang="ru"> <head> <meta charset="utf-8" /> <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /> <title>Включаем gzip-сжатие с использование .htaccess - YP Tech Notes</title> <meta name="description" content="Gzip — наилучшая практика чтобы сжать контент, тем самым сохранив пользовательский трафик. В этой статье я покажу как сжимать статический контент с использов..." /> <meta name="keywords" content="apache, .htaccess, перевод" /> <meta name="author" content="Yauheni Pakala"> <meta property="og:title" content="Включаем gzip-сжатие с использование .htaccess - YP Tech Notes" /> <meta property="og:description" content="Gzip — наилучшая практика чтобы сжать контент, тем самым сохранив пользовательский трафик. В этой статье я покажу как сжимать статический контент с использов..." /> <meta property="og:url" content="https://wcoder.github.io/notes/htaccess-gzip-compression" /> <meta property="og:site_name" content="YP Tech Notes" /> <meta property="og:locale" content="ru_RU" /> <meta property="og:type" content="article" /> <meta property="article:author" content="Yauheni Pakala" /> <meta property="article:published_time" content="2015-12-16T21:50:00+03:00" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:creator" content="@yauhenipakala" /> <meta name='yandex-verification' content='7cd440e16ce6e1c3' /> <link rel="icon" type="image/x-icon" href="/images/favicon.ico" /> <link rel="stylesheet" href="/css/main.css" /> <link rel="stylesheet" href="/css/github.min.css" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="YP Tech Notes" /> <meta name="apple-mobile-web-app-title" content="YP Tech Notes" /> <meta name="theme-color" content="#333" /> <meta name="msapplication-navbutton-color" content="#333" /> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> <meta name="msapplication-starturl" content="/" /> <link rel="manifest" href="/api/manifest.json" /> <link rel="canonical" href="https://wcoder.github.io/notes/htaccess-gzip-compression" /> <link rel="alternate" type="application/atom+xml" title="YP Tech Notes" href="https://wcoder.github.io/atom.xml" /> </head> <body> <header class="site-header"><div class="wrapper"> <a class="site-title" href="/" title="Перейти на главную">Tech Notes</a> <nav class="site-nav"> <a href="#" class="menu-icon" title="Развернуть меню"> <svg xmlns="http://www.w3.org/2000/svg" height="29" viewBox="0 0 48 48" width="48"><path d="M0 0h48v48h-48z" fill="none"></path><path d="M6 36h36v-4h-36v4zm0-10h36v-4h-36v4zm0-14v4h36v-4h-36z"></path> </svg> </a><div class="trigger"> <a class="page-link" href="https://ypakala.com/">Об авторе</a> <a class="page-link" href="/archive/">Архив</a> <a class="page-link" href="/search/">Поиск</a> <a class="page-link" href="/atom.xml"><i class="fa fa-rss"></i> RSS</a></div></nav></div></header><div class="page-content"><div class="wrapper"> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header"><h1 class="post-title" itemprop="name headline">Включаем gzip-сжатие с использование .htaccess</h1><p class="post-meta"> <time datetime="2015-12-16T21:50:00+03:00" itemprop="datePublished">16.12.2015 в 21:50</time></p></header><div class="post-content" itemprop="articleBody"><p>Gzip — наилучшая практика чтобы сжать контент, тем самым сохранив пользовательский трафик. В этой статье я покажу как сжимать статический контент с использованием Apache и файла .htaccess.</p><p>Позвольте начать с небольшого введения. Мы можем сжимать содержимое двумя различными способами: <strong>Gzip</strong> и <strong>deflate</strong>.</p><h2 id="введение">Введение</h2><p>Метод Gzip использовался в ранних версиях Apache (до версии 1.3). Таким образом, на данный момент у вас должен быть Apache версии выше 1.3, если нет — обновите до последней версии.</p><p>Чтобы воспользоваться преимуществом этого средства сжатия, у вас должен быть установлен Apache с включенным модулем <code>mod_deflate</code>. Чтобы включить этот модуль вы просто должны разкомментировать эту строку в <code>http.conf</code> — конфигурационный файл Apache.</p><p>После включения этого модуля ваш сервер будет готов обеспечивать сжатие данных. Но, сервер будет делать это только тогда, когда он получит соответствующие заголовки от клиента. Таким образом, теперь, чтобы включить это вы должны поместить код ниже в файл <code>.htaccess</code> вашего сайта, чтобы сообщить серверу что должно быть сжато.</p><h2 id="код-htaccess">код .htaccess</h2><pre><code>&lt;IfModule mod_deflate.c&gt;
  # force deflate for mangled headers
  # developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/
  &lt;IfModule mod_setenvif.c&gt;
    &lt;IfModule mod_headers.c&gt;
      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\s*,?\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding
      RequestHeader append Accept-Encoding "gzip,deflate" env=HAVE_Accept-Encoding
    &lt;/IfModule&gt;
  &lt;/IfModule&gt;

  # HTML, TXT, CSS, JavaScript, JSON, XML, HTC:
  &lt;IfModule filter_module&gt;
    FilterDeclare   COMPRESS
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/html
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/css
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/plain
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/x-component
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/javascript
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/json
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xhtml+xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/rss+xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/atom+xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/vnd.ms-fontobject
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $image/svg+xml
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/x-font-ttf
    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $font/opentype
    FilterChain     COMPRESS
    FilterProtocol  COMPRESS  DEFLATE change=yes;byteranges=no
  &lt;/IfModule&gt;

  &lt;IfModule !mod_filter.c&gt;
    # Legacy versions of Apache
    AddOutputFilterByType DEFLATE text/html text/plain text/css application/json
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE text/xml application/xml text/x-component
    AddOutputFilterByType DEFLATE application/xhtml+xml application/rss+xml
    AddOutputFilterByType DEFLATE application/atom+xml
    AddOutputFilterByType DEFLATE image/svg+xml application/vnd.ms-fontobject
    AddOutputFilterByType DEFLATE application/x-font-ttf font/opentype
  &lt;/IfModule&gt;
&lt;/IfModule&gt;
</code></pre><p>После размещения кода выше в файл <code>.htaccess</code> обратите внимание на заголовок ответа вашего сайта. Вы увидите один дополнительный заголовок <code>Accept-Encoding</code>. Это означает что запрашивающий клиент получит сжатый контент.</p><pre><code>Accept-Encoding:gzip,deflate,sdch
</code></pre><h2 id="результат">Результат</h2><p>Посмотрите на изображения ниже, чтобы увидеть какое сжатие мы получили. Так что в конечном итоге это улучшает производительность вашего сайта.</p><p><img src="https://cloud.githubusercontent.com/assets/766193/11850541/f6bc8f16-a43e-11e5-928e-73c0f2fc4b9c.jpg" alt="Результат" /></p><p>На изображении выше вы можете увидеть, что фактический размер страницы составляет 707Кб, но после сжатия этот размер составляет 401Кб.</p><p>На этом все.</p><p><a href="http://www.xpertdeveloper.com/2012/04/htaccess-gzip-compression/" name="original">Оригинал</a></p><p>Теги: <a href="/tags/#apache">apache</a>, <a href="/tags/#.htaccess">.htaccess</a>, <a href="/tags/#%D0%BF%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4">перевод</a></p><p class="edit-post-btn"> <!--noindex--><a href="https://github.com/wcoder/wcoder.github.io/edit/master/_posts/2015-12-16-htaccess-gzip-compression.md" rel="nofollow" title="Редактировать страницу на GitHub">Редактировать</a><!--/noindex--></p><div class="share-btn"> <a class="btn-vk" data-id="vk" title="VK"><img alt="VK" width="16" src="/images/vk.svg" /></a> <a class="btn-facebook" data-id="fb" title="Facebook"><img alt="Facebook" width="16" src="/images/facebook.svg" /></a> <a class="btn-twitter" data-id="tw" title="Twitter"><img alt="Twitter" width="16" src="/images/twitter.svg" /></a> <a class="btn-telegram" data-id="tg" title="Telegram"><img alt="Telegram" width="16" src="/images/telegram.svg" /></a> <a class="btn-mail" data-id="mail" title="Email"><img alt="Email" width="16" src="/images/mail.svg" /></a></div></div></article></div></div><hr /><div class="wrapper"> <footer class="footer"><p class="copyrights"> &copy; 2014&ndash;<span itemprop="copyrightYear">2025</span></p><p xmlns:cc="http://creativecommons.org/ns#" class="license"> <a href="http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" title="This work is licensed under CC BY-SA 4.0"> <img style="height:20px!important;" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png" alt="CC BY-SA 4.0"> </a></p></footer></div><script src="/js/highlight.pack.js"></script> <script src="/js/highlightjs-line-numbers.min.js"></script> <script> hljs.initHighlightingOnLoad(); hljs.initLineNumbersOnLoad(); </script> <script src="/js/share-buttons.js"></script> <!--Generated with Jekyll at Nov. 11, 2025 11:59:43 AM (+03)--> </body> </html>
